// Reusable form field component styling with theme support

.mat-mdc-form-field {
  width: 100%;
  margin-bottom: 0.5rem;
  
  &.full-width {
    width: 100%;
  }
  
  &.half-width {
    width: calc(50% - 0.5rem);
  }
  
  &.third-width {
    width: calc(33.333% - 0.75rem);
  }
}

// Enhanced focus states
.mat-mdc-form-field.mat-focused {
  .mdc-notched-outline__leading,
  .mdc-notched-outline__notch,
  .mdc-notched-outline__trailing {
    border-color: var(--color-primary) !important;
    border-width: 2px !important;
  }
}

// Error states with theme colors
.mat-mdc-form-field.mat-form-field-invalid {
  .mdc-notched-outline__leading,
  .mdc-notched-outline__notch,
  .mdc-notched-outline__trailing {
    border-color: var(--color-error) !important;
  }
}

// Input styling
.mdc-text-field__input {
  color: var(--text-primary) !important;
  caret-color: var(--color-primary) !important;
  
  &::placeholder {
    color: var(--text-muted) !important;
    opacity: 1;
  }
}

// Label styling
.mdc-floating-label {
  color: var(--text-secondary) !important;
  
  &.mdc-floating-label--float-above {
    color: var(--color-primary) !important;
  }
}

// Disabled states
.mat-mdc-form-field.mat-form-field-disabled {
  opacity: 0.6;
  
  .mdc-text-field__input {
    color: var(--disabled-text) !important;
  }
  
  .mdc-notched-outline__leading,
  .mdc-notched-outline__notch,
  .mdc-notched-outline__trailing {
    border-color: var(--disabled-bg) !important;
  }
}

// Icon button styling for password toggle
.mat-mdc-icon-button[matSuffix] {
  color: var(--text-muted);
  
  &:hover {
    color: var(--color-primary);
    background: var(--hover-bg-subtle);
  }
  
  &:focus-visible {
    outline: 2px solid var(--focus-ring);
    outline-offset: 2px;
  }
}

// Prefix/suffix icon spacing
.mat-mdc-form-field .mat-mdc-icon-button {
  width: 2.5rem;
  height: 2.5rem;
  
  .mat-icon {
    font-size: 1.25rem;
  }
}

// Error message styling
.mat-mdc-form-field .mat-mdc-form-field-error {
  color: var(--color-error) !important;
  font-size: 0.8rem;
  margin-top: 0.25rem;
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

// Select dropdown theming
.mat-mdc-select {
  color: var(--text-primary) !important;
}

.mat-mdc-select-panel {
  background: var(--color-surface) !important;
  border: 1px solid var(--color-surface-300) !important;
  border-radius: var(--radius-md) !important;
  box-shadow: var(--elevation-lg) !important;
}

.mat-mdc-option {
  color: var(--text-primary) !important;
  
  &:hover {
    background: var(--hover-bg) !important;
  }
  
  &.mat-mdc-option-active {
    background: var(--selected-bg) !important;
  }
}