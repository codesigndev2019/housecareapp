<mat-card class="event-card" [class.has-reminder]="event().reminder?.enabled">
  <div class="card-accent"></div>
  
  <div class="card-header">
    <div class="event-icon">
      <mat-icon>event</mat-icon>
    </div>
    <div class="event-info">
      <h3 class="event-title">{{ event().name }}</h3>
      <div class="event-datetime">
        <mat-icon>schedule</mat-icon>
        <span>{{ event().date | date:'mediumDate' }} â€¢ {{ event().time }}</span>
      </div>
    </div>
  </div>

  <mat-card-content>
    @if (event().location) {
      <div class="detail-row">
        <mat-icon>location_on</mat-icon>
        <span>{{ event().location }}</span>
      </div>
    }
    
    @if (event().participants?.length) {
      <div class="detail-row">
        <mat-icon>group</mat-icon>
        <div class="participants">
          <mat-chip-set aria-label="participants list">
            @for (id of event().participants; track id) {
              <mat-chip>{{ id | familyMemberName }}</mat-chip>
            }
          </mat-chip-set>
        </div>
      </div>
    } @else {
      <div class="detail-row">
        <mat-icon>group</mat-icon>
        <span class="no-participants">{{ 'events.noParticipants' | translate }}</span>
      </div>
    }

    <div class="reminder-toggle">
      <mat-slide-toggle 
        [checked]="event().reminder?.enabled" 
        (change)="toggleReminder($event.checked)" 
        color="primary"
        labelPosition="before">
        <div class="toggle-label">
          <mat-icon>notifications</mat-icon>
          <span>{{ 'events.reminder' | translate }}</span>
        </div>
      </mat-slide-toggle>
    </div>

    @if (event().reminder?.enabled) {
      <div class="reminder-details">
        <div class="reminder-info">
          <mat-icon>alarm</mat-icon>
          <span>{{ event().reminder?.dateTime | date:'short' }}</span>
          <span class="frequency-badge">{{ event().reminder?.frequency }}</span>
        </div>
      </div>
    }
  </mat-card-content>

  <mat-card-actions align="end">
    <button mat-button (click)="edit()" class="action-btn">
      <mat-icon>edit</mat-icon>
      {{ 'actions.edit' | translate }}
    </button>
    <button mat-button color="warn" (click)="cancel()" class="action-btn">
      <mat-icon>delete_outline</mat-icon>
      {{ 'events.cancel' | translate }}
    </button>
  </mat-card-actions>
</mat-card>
